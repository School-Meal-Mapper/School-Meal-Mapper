{"remainingRequest":"/Users/elizaparadise/Desktop/COVID_Support/School-Meal-Mapper/covid-19-support/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/elizaparadise/Desktop/COVID_Support/School-Meal-Mapper/covid-19-support/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/elizaparadise/Desktop/COVID_Support/School-Meal-Mapper/covid-19-support/src/App.vue","mtime":1592410953226},{"path":"/Users/elizaparadise/Desktop/COVID_Support/School-Meal-Mapper/covid-19-support/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/elizaparadise/Desktop/COVID_Support/School-Meal-Mapper/covid-19-support/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/elizaparadise/Desktop/COVID_Support/School-Meal-Mapper/covid-19-support/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/elizaparadise/Desktop/COVID_Support/School-Meal-Mapper/covid-19-support/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcHBIZWFkZXIgZnJvbSAiLi9jb21wb25lbnRzL0hlYWRlci52dWUiOwppbXBvcnQgU2VhcmNoRmlsdGVyIGZyb20gIi4vY29tcG9uZW50cy9TZWFyY2hGaWx0ZXIudnVlIjsKaW1wb3J0IEhpZ2hsaWdodHMgZnJvbSAiLi9jb21wb25lbnRzL0hpZ2hsaWdodHMudnVlIjsKaW1wb3J0IFJlc291cmNlTWFwIGZyb20gIi4vY29tcG9uZW50cy9SZXNvdXJjZU1hcC52dWUiOwppbXBvcnQgQWJvdXRVc01vZGFsIGZyb20gIi4vY29tcG9uZW50cy9BYm91dFVzLnZ1ZSI7CmltcG9ydCB7IGxhdExuZyB9IGZyb20gImxlYWZsZXQiOwppbXBvcnQgeyBoYXZlcnNpbmVEaXN0YW5jZSwgc29ydEJ5RGlzdGFuY2UgfSBmcm9tICIuL3V0aWxpdGllcyI7CgppbXBvcnQgeyB3ZWVrZGF5cywgZGF5RmlsdGVycywgYm9vbGVhbkZpbHRlcnMsIGRheUFueSB9IGZyb20gIi4vY29uc3RhbnRzIjsKCmltcG9ydCB7IHRoZW1lIH0gZnJvbSAidGhlbWUuY29uZmlnIjsKaW1wb3J0IFRoZW1lSGVhZGVyIGZyb20gInRoZW1lLmhlYWRlciI7CgpmdW5jdGlvbiBleHRlbmQob2JqLCBzcmMpIHsKICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7CiAgICBvYmoucHVzaChzcmNba2V5XSk7CiAgfQogIHJldHVybiBvYmo7Cn0KCmZ1bmN0aW9uIGFkZE9yUmVtb3ZlKGFycmF5LCBpdGVtKSB7CiAgY29uc3QgZXhpc3RzID0gYXJyYXkuaW5jbHVkZXMoaXRlbSk7CgogIGlmIChleGlzdHMpIHsKICAgIHJldHVybiBhcnJheS5maWx0ZXIoKGMpID0+IHsKICAgICAgcmV0dXJuIGMgIT09IGl0ZW07CiAgICB9KTsKICB9IGVsc2UgewogICAgY29uc3QgcmVzdWx0ID0gYXJyYXk7CiAgICByZXN1bHQucHVzaChpdGVtKTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFwcCIsCiAgcHJvcHM6IHsKICAgIG1zZzogU3RyaW5nLAogIH0sCiAgd2F0Y2g6IHsKICAgIGN1cnJlbnRQYWdlOiAiZmV0Y2hEYXRhIiwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0sCiAgY29tcG9uZW50czogewogICAgQWJvdXRVc01vZGFsLAogICAgQXBwSGVhZGVyLAogICAgSGlnaGxpZ2h0cywKICAgIFJlc291cmNlTWFwLAogICAgU2VhcmNoRmlsdGVyLAogICAgVGhlbWVIZWFkZXIsCiAgfSwKICBkYXRhKCkgewogICAgY29uc3QgZGFya01vZGVNZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoCiAgICAgICIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIgogICAgKTsKICAgIHJldHVybiB7CiAgICAgIGVudHJpZXM6IG51bGwsCiAgICAgIG5lZWQ6ICJub25lIiwKICAgICAgZGF5OiBkYXlBbnksCiAgICAgIGlzRmlsdGVyT3BlbjogdHJ1ZSwKICAgICAgbGFuZ3VhZ2U6IHsgbmFtZTogIkVuZ2xpc2giLCBpc286ICJlbiIgfSwKICAgICAgbG9jYXRpb25EYXRhOiB7CiAgICAgICAgbG9jVmFsdWU6IG51bGwsCiAgICAgICAgbG9jSWQ6IG51bGwsCiAgICAgICAgY3VycmVudEJ1c2luZXNzOiBudWxsLAogICAgICAgIGlzU2V0QnlNYXA6IGZhbHNlLAogICAgICB9LAogICAgICBzaG93TGlzdDogZmFsc2UsCiAgICAgIGhpZ2hsaWdodEZpbHRlcnM6IFtdLAogICAgICBib3VuZHM6IG51bGwsCiAgICAgIGNlbnRyb2lkOiB7CiAgICAgICAgbGF0OiB0aGVtZS5zZXR0aW5ncy5pbml0aWFsTWFwQ2VudGVyLmxhdCwKICAgICAgICBsbmc6IHRoZW1lLnNldHRpbmdzLmluaXRpYWxNYXBDZW50ZXIubG5nLAogICAgICAgIHpvb206IHRoZW1lLnNldHRpbmdzLmluaXRpYWxNYXBab29tLAogICAgICB9LAogICAgICBkYXJrTW9kZU1lZGlhUXVlcnk6IGRhcmtNb2RlTWVkaWFRdWVyeSwKICAgICAgZGFya01vZGU6IGRhcmtNb2RlTWVkaWFRdWVyeS5tYXRjaGVzLAogICAgICBtYXBVcmw6ICIiLAogICAgICBhdHRyaWJ1dGlvbjogbnVsbCwKICAgICAgc29jaWFsTWVkaWFpY286IHRoZW1lLnNvY2lhbE1lZGlhLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldERhcmtNb2RlKHRoaXMuZGFya01vZGUpOwogICAgdGhpcy5kYXJrTW9kZU1lZGlhUXVlcnkuYWRkTGlzdGVuZXIoKGUpID0+IHsKICAgICAgdGhpcy5kYXJrTW9kZSA9IGUubWF0Y2hlczsKICAgICAgdGhpcy5zZXREYXJrTW9kZSh0aGlzLmRhcmtNb2RlKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0RGFya01vZGUoZGFya01vZGUpIHsKICAgICAgdGhpcy5tYXBVcmwgPSBkYXJrTW9kZSA/IHRoZW1lLm1hcHMuZGFyay51cmwgOiB0aGVtZS5tYXBzLm5vcm1hbC51cmw7CiAgICAgIHRoaXMuYXR0cmlidXRpb24gPSBkYXJrTW9kZQogICAgICAgID8gdGhlbWUubWFwcy5kYXJrLmF0dHJpYnV0aW9uCiAgICAgICAgOiB0aGVtZS5tYXBzLm5vcm1hbC5hdHRyaWJ1dGlvbjsKICAgIH0sCiAgICBjZW50ZXJVcGRhdGVkKGNlbnRlcikgewogICAgICB0aGlzLmNlbnRyb2lkID0geyBsYXQ6IGNlbnRlci5sYXQsIGxuZzogY2VudGVyLmxuZyB9OwogICAgfSwKICAgIGJvdW5kc1VwZGF0ZWQ6IGZ1bmN0aW9uIChib3VuZHMpIHsKICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7CiAgICB9LAogICAgZ2V0RGF5OiBmdW5jdGlvbiAoZGF5KSB7CiAgICAgIGlmIChkYXkgPT0gMCkgewogICAgICAgIHJldHVybiA2OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBkYXkgLSAxOwogICAgICB9CiAgICB9LAogICAgYm94U2VsZWN0ZWQ6IGZ1bmN0aW9uIChjb250ZW50KSB7CiAgICAgIHRoaXMuaGlnaGxpZ2h0RmlsdGVycyA9IGFkZE9yUmVtb3ZlKHRoaXMuaGlnaGxpZ2h0RmlsdGVycywgY29udGVudC5uZWVkKTsKICAgIH0sCiAgICBpc0FueURheVNlbGVjdGVkKGRheSkgewogICAgICByZXR1cm4gZGF5ID49IGRheUFueTsKICAgIH0sCiAgICBuZWVkU2VsZWN0ZWQ6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgdGhpcy5uZWVkID0gdmFsOwogICAgICB0aGlzLmhpZ2hsaWdodEZpbHRlcnMgPSBbXTsKICAgICAgd2luZG93Lmd0YWcoImV2ZW50IiwgIldoYXQgZG8geW91IG5lZWQ/IiwgewogICAgICAgIGV2ZW50X2NhdGVnb3J5OiAiU2VhcmNoIC0gKCIgKyB0aGlzLmxhbmd1YWdlLm5hbWUgKyAiKSIsCiAgICAgICAgZXZlbnRfbGFiZWw6IHZhbCwKICAgICAgfSk7CiAgICB9LAogICAgZGF5U2VsZWN0ZWQ6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgdGhpcy5kYXkgPSB2YWw7CiAgICAgIHRoaXMuaGlnaGxpZ2h0RmlsdGVycyA9IFtdOwogICAgICB3aW5kb3cuZ3RhZygiZXZlbnQiLCAiV2hlbiBkbyB5b3UgbmVlZCBpdD8iLCB7CiAgICAgICAgZXZlbnRfY2F0ZWdvcnk6ICJTZWFyY2ggLSAoIiArIHRoaXMubGFuZ3VhZ2UubmFtZSArICIpIiwKICAgICAgICBldmVudF9sYWJlbDogd2Vla2RheXNbdGhpcy5nZXREYXkodmFsKV0uZGF5LAogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VMYW5ndWFnZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdGhpcy5sYW5ndWFnZSA9IGl0ZW07CiAgICAgIHRoaXMuJHJvb3QudXBkYXRlTGFuZyhpdGVtLmlzbyk7CiAgICB9LAogICAgYXN5bmMgZmV0Y2hEYXRhKCkgewogICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh0aGVtZS5kYXRhLnNwcmVhZHNoZWV0VXJsKTsKICAgICAgY29uc3QgZW50cmllcyA9IGF3YWl0IHJlcy5qc29uKCk7CgogICAgICAvLyBpZiAoZW50cmllcyAhPT0gbnVsbCkgewogICAgICAvLyAgIGVudHJpZXMuZm9yRWFjaChjID0+IHsKICAgICAgLy8gICAgIGMKICAgICAgLy8gICB9KTsKICAgICAgLy8gfQoKICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcy5mZWVkLmVudHJ5OwogICAgfSwKICAgIHBhc3NMb2NhdGlvbjogZnVuY3Rpb24gKHZhbCkgewogICAgICB2YWwuY3VycmVudEJ1c2luZXNzID0gdGhpcy5maWx0ZXJlZE1hcmtlcnNbdmFsLmxvY1ZhbHVlXTsKICAgICAgdGhpcy5sb2NhdGlvbkRhdGEgPSB2YWw7CiAgICAgIHRoaXMuc2hvd0xpc3QgPSBmYWxzZTsKICAgICAgdGhpcy5pc0ZpbHRlck9wZW4gPSB0cnVlOwogICAgICB2YXIgcHJvTmFtZSA9IHRoaXMuZmlsdGVyZWRNYXJrZXJzW3ZhbC5sb2NWYWx1ZV0ubWFya2VyLmdzeCRwcm92aWRlcmFkZGxvYwogICAgICAgIC4kdAogICAgICAgID8gIiwgIiArIHRoaXMuZmlsdGVyZWRNYXJrZXJzW3ZhbC5sb2NWYWx1ZV0ubWFya2VyLmdzeCRwcm92aWRlcmFkZGxvYy4kdAogICAgICAgIDogIiI7CgogICAgICB3aW5kb3cuZ3RhZygKICAgICAgICAiZXZlbnQiLAogICAgICAgIHZhbC5pc1NldEJ5TWFwID8gIk1hcmtlciBjbGlja2VkIiA6ICJMaXN0IGl0ZW0gY2xpY2tlZCIsCiAgICAgICAgewogICAgICAgICAgZXZlbnRfY2F0ZWdvcnk6ICJWaWV3IGRldGFpbHMgLSAoIiArIHRoaXMubGFuZ3VhZ2UubmFtZSArICIpIiwKICAgICAgICAgIGV2ZW50X2xhYmVsOgogICAgICAgICAgICB0aGlzLmZpbHRlcmVkTWFya2Vyc1t2YWwubG9jVmFsdWVdLm1hcmtlci5nc3gkcHJvdmlkZXJuYW1lLiR0ICsKICAgICAgICAgICAgcHJvTmFtZSwKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbHRlcmVkTWFya2VycygpIHsKICAgICAgaWYgKHRoaXMuZW50cmllcyA9PSBudWxsKSByZXR1cm4gbnVsbDsKCiAgICAgIHZhciBtYXJrZXJzOwoKICAgICAgaWYgKHRoaXMubmVlZCA9PSAiZmFtaWx5IikgewogICAgICAgIG1hcmtlcnMgPSB0aGlzLmVudHJpZXMuZmlsdGVyKAogICAgICAgICAgKGMpID0+IGMuZ3N4JGZhbWlseW1lYWwuJHQgPT0gMSAmJiBjLmdzeCRzdGF0dXMuJHQgPT0gIjEiCiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtYXJrZXJzID0gdGhpcy5lbnRyaWVzLmZpbHRlcigKICAgICAgICAgIChjKSA9PiBjLmdzeCRyZXNvdXJjZS4kdCA9PT0gdGhpcy5uZWVkICYmIGMuZ3N4JHN0YXR1cy4kdCA9PSAiMSIKICAgICAgICApOwogICAgICB9CgogICAgICAvLyBGaWx0ZXIgb3V0IHRoZSBib29sZWFuIGl0ZW1zCiAgICAgIHRoaXMuaGlnaGxpZ2h0RmlsdGVycy5mb3JFYWNoKChlbGVtZW50KSA9PiB7CiAgICAgICAgaWYgKGJvb2xlYW5GaWx0ZXJzLmluY2x1ZGVzKGVsZW1lbnQpKSB7CiAgICAgICAgICBtYXJrZXJzID0gbWFya2Vycy5maWx0ZXIoKGMpID0+IGNbImdzeCQiICsgZWxlbWVudF0uJHQgPT0gIjEiKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKS5nZXREYXkoKTsKICAgICAgdmFyIHNlbGVjdGVkRGF5ID0gdG9kYXk7CiAgICAgIGlmICghdGhpcy5pc0FueURheVNlbGVjdGVkKHRoaXMuZGF5KSkgewogICAgICAgIHNlbGVjdGVkRGF5ID0gdGhpcy5kYXk7CiAgICAgIH0KCiAgICAgIGNvbnN0IGRheUZpbHRlciA9IGRheUZpbHRlcnNbdGhpcy5nZXREYXkoc2VsZWN0ZWREYXkpXTsKICAgICAgdmFyIG9wZW4gPSBtYXJrZXJzLmZpbHRlcigoYykgPT4gY1tkYXlGaWx0ZXJdLiR0ICE9PSAiMCIpOwogICAgICB2YXIgY2xvc2VkID0gbWFya2Vycy5maWx0ZXIoKGMpID0+IGNbZGF5RmlsdGVyXS4kdCA9PSAiMCIpOwoKICAgICAgdmFyIHJldExpc3QgPSBleHRlbmQoCiAgICAgICAgb3Blbi5tYXAoKG1hcmtlcikgPT4gKHsKICAgICAgICAgIG1hcmtlciwKICAgICAgICAgIG9jOiB0cnVlLAogICAgICAgICAgZGlzdGFuY2U6IGhhdmVyc2luZURpc3RhbmNlKAogICAgICAgICAgICBbdGhpcy5jZW50cm9pZC5sYXQsIHRoaXMuY2VudHJvaWQubG5nXSwKICAgICAgICAgICAgW21hcmtlci5nc3gkbGF0LiR0LCBtYXJrZXIuZ3N4JGxvbi4kdF0sCiAgICAgICAgICAgIHRydWUKICAgICAgICAgICksCiAgICAgICAgfSkpLAogICAgICAgIGNsb3NlZC5tYXAoKG1hcmtlcikgPT4gKHsKICAgICAgICAgIG1hcmtlciwKICAgICAgICAgIG9jOiBmYWxzZSwKICAgICAgICAgIGRpc3RhbmNlOiBoYXZlcnNpbmVEaXN0YW5jZSgKICAgICAgICAgICAgW3RoaXMuY2VudHJvaWQubGF0LCB0aGlzLmNlbnRyb2lkLmxuZ10sCiAgICAgICAgICAgIFttYXJrZXIuZ3N4JGxhdC4kdCwgbWFya2VyLmdzeCRsb24uJHRdLAogICAgICAgICAgICB0cnVlCiAgICAgICAgICApLAogICAgICAgIH0pKQogICAgICApLnNvcnQoc29ydEJ5RGlzdGFuY2UpOwoKICAgICAgcmV0dXJuIHJldExpc3Q7CiAgICB9LAogICAgaGlnaGxpZ2h0RmlsdGVyZWRNYXJrZXJzKCkgewogICAgICB2YXIgY29udGFpbmVkID0gW107IC8vbWFrZXJzIGluIG1hcCBib3VuZGluZ2JveAogICAgICB0aGlzLmZpbHRlcmVkTWFya2Vycy5mb3JFYWNoKChtKSA9PiB7CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy5ib3VuZHMuY29udGFpbnMobGF0TG5nKG0ubWFya2VyLmdzeCRsYXQuJHQsIG0ubWFya2VyLmdzeCRsb24uJHQpKQogICAgICAgICkKICAgICAgICAgIGNvbnRhaW5lZC5wdXNoKG0pOwogICAgICB9KTsKCiAgICAgIGlmICghdGhpcy5pc0FueURheVNlbGVjdGVkKHRoaXMuZGF5KSkgewogICAgICAgIHJldHVybiBjb250YWluZWQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb250YWluZWQubWFwKChtKSA9PiB7CiAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIG0pOwogICAgICAgIG9iai5vYyA9IHRydWU7CiAgICAgICAgcmV0dXJuIG9iajsKICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div class=\"home\">\n    <app-header\n      :language=\"language.name\"\n      @language-selected=\"changeLanguage\"\n      :socialMedia=\"socialMediaico\"\n    >\n      <theme-header></theme-header>\n    </app-header>\n    <about-us-modal />\n    <div\n      class=\"d-flex\"\n      id=\"wrapper\"\n      :class=\"{ toggled: isFilterOpen }\"\n      v-if=\"!!entries\"\n    >\n      <search-filter\n        :isFilterOpen=\"isFilterOpen\"\n        :need=\"need\"\n        :day=\"day\"\n        :filteredMarkers=\"filteredMarkers\"\n        :highlightFilteredMarkers=\"highlightFilteredMarkers\"\n        :location=\"locationData\"\n        :show-list=\"showList\"\n        @location-selected=\"passLocation\"\n        @toggle=\"isFilterOpen = !isFilterOpen\"\n        @need-selected=\"needSelected\"\n        @day-selected=\"daySelected\"\n      />\n\n      <div id=\"page-content-wrapper\">\n        <highlights\n          :need=\"need\"\n          :class=\"{ toggled: isFilterOpen }\"\n          :filteredMarkers=\"highlightFilteredMarkers\"\n          :highlightFilters=\"highlightFilters\"\n          @box-selected=\"boxSelected\"\n        />\n\n        <resource-map\n          :filteredMarkers=\"filteredMarkers\"\n          :class=\"{ noselection: need == 'none' }\"\n          :location=\"locationData\"\n          :attribution=\"attribution\"\n          @location-selected=\"passLocation\"\n          @bounds=\"boundsUpdated\"\n          @center=\"centerUpdated\"\n          :mapUrl=\"mapUrl\"\n          :centroid=\"centroid\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppHeader from \"./components/Header.vue\";\nimport SearchFilter from \"./components/SearchFilter.vue\";\nimport Highlights from \"./components/Highlights.vue\";\nimport ResourceMap from \"./components/ResourceMap.vue\";\nimport AboutUsModal from \"./components/AboutUs.vue\";\nimport { latLng } from \"leaflet\";\nimport { haversineDistance, sortByDistance } from \"./utilities\";\n\nimport { weekdays, dayFilters, booleanFilters, dayAny } from \"./constants\";\n\nimport { theme } from \"theme.config\";\nimport ThemeHeader from \"theme.header\";\n\nfunction extend(obj, src) {\n  for (var key in src) {\n    obj.push(src[key]);\n  }\n  return obj;\n}\n\nfunction addOrRemove(array, item) {\n  const exists = array.includes(item);\n\n  if (exists) {\n    return array.filter((c) => {\n      return c !== item;\n    });\n  } else {\n    const result = array;\n    result.push(item);\n    return result;\n  }\n}\n\nexport default {\n  name: \"app\",\n  props: {\n    msg: String,\n  },\n  watch: {\n    currentPage: \"fetchData\",\n  },\n  created() {\n    this.fetchData();\n  },\n  components: {\n    AboutUsModal,\n    AppHeader,\n    Highlights,\n    ResourceMap,\n    SearchFilter,\n    ThemeHeader,\n  },\n  data() {\n    const darkModeMediaQuery = window.matchMedia(\n      \"(prefers-color-scheme: dark)\"\n    );\n    return {\n      entries: null,\n      need: \"none\",\n      day: dayAny,\n      isFilterOpen: true,\n      language: { name: \"English\", iso: \"en\" },\n      locationData: {\n        locValue: null,\n        locId: null,\n        currentBusiness: null,\n        isSetByMap: false,\n      },\n      showList: false,\n      highlightFilters: [],\n      bounds: null,\n      centroid: {\n        lat: theme.settings.initialMapCenter.lat,\n        lng: theme.settings.initialMapCenter.lng,\n        zoom: theme.settings.initialMapZoom,\n      },\n      darkModeMediaQuery: darkModeMediaQuery,\n      darkMode: darkModeMediaQuery.matches,\n      mapUrl: \"\",\n      attribution: null,\n      socialMediaico: theme.socialMedia,\n    };\n  },\n  mounted() {\n    this.setDarkMode(this.darkMode);\n    this.darkModeMediaQuery.addListener((e) => {\n      this.darkMode = e.matches;\n      this.setDarkMode(this.darkMode);\n    });\n  },\n  methods: {\n    setDarkMode(darkMode) {\n      this.mapUrl = darkMode ? theme.maps.dark.url : theme.maps.normal.url;\n      this.attribution = darkMode\n        ? theme.maps.dark.attribution\n        : theme.maps.normal.attribution;\n    },\n    centerUpdated(center) {\n      this.centroid = { lat: center.lat, lng: center.lng };\n    },\n    boundsUpdated: function (bounds) {\n      this.bounds = bounds;\n    },\n    getDay: function (day) {\n      if (day == 0) {\n        return 6;\n      } else {\n        return day - 1;\n      }\n    },\n    boxSelected: function (content) {\n      this.highlightFilters = addOrRemove(this.highlightFilters, content.need);\n    },\n    isAnyDaySelected(day) {\n      return day >= dayAny;\n    },\n    needSelected: function (val) {\n      this.need = val;\n      this.highlightFilters = [];\n      window.gtag(\"event\", \"What do you need?\", {\n        event_category: \"Search - (\" + this.language.name + \")\",\n        event_label: val,\n      });\n    },\n    daySelected: function (val) {\n      this.day = val;\n      this.highlightFilters = [];\n      window.gtag(\"event\", \"When do you need it?\", {\n        event_category: \"Search - (\" + this.language.name + \")\",\n        event_label: weekdays[this.getDay(val)].day,\n      });\n    },\n    changeLanguage: function (item) {\n      this.language = item;\n      this.$root.updateLang(item.iso);\n    },\n    async fetchData() {\n      const res = await fetch(theme.data.spreadsheetUrl);\n      const entries = await res.json();\n\n      // if (entries !== null) {\n      //   entries.forEach(c => {\n      //     c\n      //   });\n      // }\n\n      this.entries = entries.feed.entry;\n    },\n    passLocation: function (val) {\n      val.currentBusiness = this.filteredMarkers[val.locValue];\n      this.locationData = val;\n      this.showList = false;\n      this.isFilterOpen = true;\n      var proName = this.filteredMarkers[val.locValue].marker.gsx$provideraddloc\n        .$t\n        ? \", \" + this.filteredMarkers[val.locValue].marker.gsx$provideraddloc.$t\n        : \"\";\n\n      window.gtag(\n        \"event\",\n        val.isSetByMap ? \"Marker clicked\" : \"List item clicked\",\n        {\n          event_category: \"View details - (\" + this.language.name + \")\",\n          event_label:\n            this.filteredMarkers[val.locValue].marker.gsx$providername.$t +\n            proName,\n        }\n      );\n    },\n  },\n  computed: {\n    filteredMarkers() {\n      if (this.entries == null) return null;\n\n      var markers;\n\n      if (this.need == \"family\") {\n        markers = this.entries.filter(\n          (c) => c.gsx$familymeal.$t == 1 && c.gsx$status.$t == \"1\"\n        );\n      } else {\n        markers = this.entries.filter(\n          (c) => c.gsx$resource.$t === this.need && c.gsx$status.$t == \"1\"\n        );\n      }\n\n      // Filter out the boolean items\n      this.highlightFilters.forEach((element) => {\n        if (booleanFilters.includes(element)) {\n          markers = markers.filter((c) => c[\"gsx$\" + element].$t == \"1\");\n        }\n      });\n\n      var today = new Date().getDay();\n      var selectedDay = today;\n      if (!this.isAnyDaySelected(this.day)) {\n        selectedDay = this.day;\n      }\n\n      const dayFilter = dayFilters[this.getDay(selectedDay)];\n      var open = markers.filter((c) => c[dayFilter].$t !== \"0\");\n      var closed = markers.filter((c) => c[dayFilter].$t == \"0\");\n\n      var retList = extend(\n        open.map((marker) => ({\n          marker,\n          oc: true,\n          distance: haversineDistance(\n            [this.centroid.lat, this.centroid.lng],\n            [marker.gsx$lat.$t, marker.gsx$lon.$t],\n            true\n          ),\n        })),\n        closed.map((marker) => ({\n          marker,\n          oc: false,\n          distance: haversineDistance(\n            [this.centroid.lat, this.centroid.lng],\n            [marker.gsx$lat.$t, marker.gsx$lon.$t],\n            true\n          ),\n        }))\n      ).sort(sortByDistance);\n\n      return retList;\n    },\n    highlightFilteredMarkers() {\n      var contained = []; //makers in map boundingbox\n      this.filteredMarkers.forEach((m) => {\n        if (\n          this.bounds.contains(latLng(m.marker.gsx$lat.$t, m.marker.gsx$lon.$t))\n        )\n          contained.push(m);\n      });\n\n      if (!this.isAnyDaySelected(this.day)) {\n        return contained;\n      }\n\n      return contained.map((m) => {\n        let obj = Object.assign({}, m);\n        obj.oc = true;\n        return obj;\n      });\n    },\n  },\n};\n</script>\n\n<style></style>\n"]}]}