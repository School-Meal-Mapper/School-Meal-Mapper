{"remainingRequest":"/Users/elizaparadise/Desktop/COVID_Support/NC-COVID-Support/covid-19-support/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/elizaparadise/Desktop/COVID_Support/NC-COVID-Support/covid-19-support/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/elizaparadise/Desktop/COVID_Support/NC-COVID-Support/covid-19-support/src/App.vue","mtime":1590248758351},{"path":"/Users/elizaparadise/Desktop/COVID_Support/NC-COVID-Support/covid-19-support/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/elizaparadise/Desktop/COVID_Support/NC-COVID-Support/covid-19-support/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/elizaparadise/Desktop/COVID_Support/NC-COVID-Support/covid-19-support/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/elizaparadise/Desktop/COVID_Support/NC-COVID-Support/covid-19-support/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcHBIZWFkZXIgZnJvbSAnLi9jb21wb25lbnRzL0hlYWRlci52dWUnCmltcG9ydCBTZWFyY2hGaWx0ZXIgZnJvbSAnLi9jb21wb25lbnRzL1NlYXJjaEZpbHRlci52dWUnCmltcG9ydCBIaWdobGlnaHRzIGZyb20gJy4vY29tcG9uZW50cy9IaWdobGlnaHRzLnZ1ZScKaW1wb3J0IFJlc291cmNlTWFwIGZyb20gJy4vY29tcG9uZW50cy9SZXNvdXJjZU1hcC52dWUnCmltcG9ydCBBYm91dFVzTW9kYWwgZnJvbSAnLi9jb21wb25lbnRzL0Fib3V0VXMudnVlJwppbXBvcnQgeyBsYXRMbmcgfSBmcm9tICdsZWFmbGV0JwppbXBvcnQgeyBoYXZlcnNpbmVEaXN0YW5jZSwgc29ydEJ5RGlzdGFuY2UgfSBmcm9tICcuL3V0aWxpdGllcycKCmltcG9ydCB7IHdlZWtkYXlzLCBkYXlGaWx0ZXJzLCBib29sZWFuRmlsdGVycywgZGF5QW55IH0gZnJvbSAnLi9jb25zdGFudHMnCgppbXBvcnQgeyB0aGVtZSB9IGZyb20gJ3RoZW1lLmNvbmZpZycKaW1wb3J0IFRoZW1lSGVhZGVyIGZyb20gJ3RoZW1lLmhlYWRlcicKCmZ1bmN0aW9uIGV4dGVuZChvYmosIHNyYykgewogIGZvciAodmFyIGtleSBpbiBzcmMpIHsKICAgIG9iai5wdXNoKHNyY1trZXldKQogIH0KICByZXR1cm4gb2JqCn0KCmZ1bmN0aW9uIGFkZE9yUmVtb3ZlKGFycmF5LCBpdGVtKSB7CiAgY29uc3QgZXhpc3RzID0gYXJyYXkuaW5jbHVkZXMoaXRlbSkKCiAgaWYgKGV4aXN0cykgewogICAgcmV0dXJuIGFycmF5LmZpbHRlcigoYykgPT4gewogICAgICByZXR1cm4gYyAhPT0gaXRlbQogICAgfSkKICB9IGVsc2UgewogICAgY29uc3QgcmVzdWx0ID0gYXJyYXkKICAgIHJlc3VsdC5wdXNoKGl0ZW0pCiAgICByZXR1cm4gcmVzdWx0CiAgfQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2FwcCcsCiAgcHJvcHM6IHsKICAgIG1zZzogU3RyaW5nCiAgfSwKICB3YXRjaDogewogICAgY3VycmVudFBhZ2U6ICdmZXRjaERhdGEnCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKQogIH0sCiAgY29tcG9uZW50czogewogICAgQWJvdXRVc01vZGFsLAogICAgQXBwSGVhZGVyLAogICAgSGlnaGxpZ2h0cywKICAgIFJlc291cmNlTWFwLAogICAgU2VhcmNoRmlsdGVyLAogICAgVGhlbWVIZWFkZXIKICB9LAogIGRhdGEoKSB7CiAgICBjb25zdCBkYXJrTW9kZU1lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpCiAgICByZXR1cm4gewogICAgICBlbnRyaWVzOiBudWxsLAogICAgICBuZWVkOiAnbm9uZScsCiAgICAgIGRheTogZGF5QW55LAogICAgICBpc0ZpbHRlck9wZW46IHRydWUsCiAgICAgIGxhbmd1YWdlOiB7IG5hbWU6ICdFbmdsaXNoJywgaXNvOiAnZW4nIH0sCiAgICAgIGxvY2F0aW9uRGF0YTogeyBsb2NWYWx1ZTogbnVsbCwgbG9jSWQ6IG51bGwsIGN1cnJlbnRCdXNpbmVzczogbnVsbCwgaXNTZXRCeU1hcDogZmFsc2UgfSwKICAgICAgc2hvd0xpc3Q6IGZhbHNlLAogICAgICBoaWdobGlnaHRGaWx0ZXJzOiBbXSwKICAgICAgYm91bmRzOiBudWxsLAogICAgICBjZW50cm9pZDogeyBsYXQ6IHRoZW1lLnNldHRpbmdzLmluaXRpYWxNYXBDZW50ZXIubGF0LCBsbmc6IHRoZW1lLnNldHRpbmdzLmluaXRpYWxNYXBDZW50ZXIubG5nIH0sCiAgICAgIGRhcmtNb2RlTWVkaWFRdWVyeTogZGFya01vZGVNZWRpYVF1ZXJ5LAogICAgICBkYXJrTW9kZTogZGFya01vZGVNZWRpYVF1ZXJ5Lm1hdGNoZXMsCiAgICAgIG1hcFVybDogJycsCiAgICAgIGF0dHJpYnV0aW9uOiBudWxsCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zZXREYXJrTW9kZSh0aGlzLmRhcmtNb2RlKQogICAgdGhpcy5kYXJrTW9kZU1lZGlhUXVlcnkuYWRkTGlzdGVuZXIoKGUpID0+IHsKICAgICAgdGhpcy5kYXJrTW9kZSA9IGUubWF0Y2hlcwogICAgICB0aGlzLnNldERhcmtNb2RlKHRoaXMuZGFya01vZGUpCiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgc2V0RGFya01vZGUoZGFya01vZGUpIHsKICAgICAgdGhpcy5tYXBVcmwgPSBkYXJrTW9kZSA/IHRoZW1lLm1hcHMuZGFyay51cmwgOiB0aGVtZS5tYXBzLm5vcm1hbC51cmwKICAgICAgdGhpcy5hdHRyaWJ1dGlvbiA9IGRhcmtNb2RlID8gdGhlbWUubWFwcy5kYXJrLmF0dHJpYnV0aW9uIDogdGhlbWUubWFwcy5ub3JtYWwuYXR0cmlidXRpb24KICAgIH0sCiAgICBjZW50ZXJVcGRhdGVkKGNlbnRlcikgewogICAgICB0aGlzLmNlbnRyb2lkID0geyBsYXQ6IGNlbnRlci5sYXQsIGxuZzogY2VudGVyLmxuZyB9CiAgICB9LAogICAgYm91bmRzVXBkYXRlZDogZnVuY3Rpb24gKGJvdW5kcykgewogICAgICB0aGlzLmJvdW5kcyA9IGJvdW5kcwogICAgfSwKICAgIGdldERheTogZnVuY3Rpb24gKGRheSkgewogICAgICBpZiAoZGF5ID09IDApIHsKICAgICAgICByZXR1cm4gNgogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBkYXkgLSAxCiAgICAgIH0KICAgIH0sCiAgICBib3hTZWxlY3RlZDogZnVuY3Rpb24gKGNvbnRlbnQpIHsKICAgICAgdGhpcy5oaWdobGlnaHRGaWx0ZXJzID0gYWRkT3JSZW1vdmUodGhpcy5oaWdobGlnaHRGaWx0ZXJzLCBjb250ZW50Lm5lZWQpCiAgICB9LAogICAgaXNBbnlEYXlTZWxlY3RlZChkYXkpIHsKICAgICAgcmV0dXJuIGRheSA+PSBkYXlBbnkKICAgIH0sCiAgICBuZWVkU2VsZWN0ZWQ6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgdGhpcy5uZWVkID0gdmFsCiAgICAgIHRoaXMuaGlnaGxpZ2h0RmlsdGVycyA9IFtdCiAgICAgIHdpbmRvdy5ndGFnKCdldmVudCcsICdXaGF0IGRvIHlvdSBuZWVkPycsIHsgZXZlbnRfY2F0ZWdvcnk6ICdTZWFyY2ggLSAoJyArIHRoaXMubGFuZ3VhZ2UubmFtZSArICcpJywgZXZlbnRfbGFiZWw6IHZhbCB9KQogICAgfSwKICAgIGRheVNlbGVjdGVkOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgIHRoaXMuZGF5ID0gdmFsCiAgICAgIHRoaXMuaGlnaGxpZ2h0RmlsdGVycyA9IFtdCiAgICAgIHdpbmRvdy5ndGFnKCdldmVudCcsICdXaGVuIGRvIHlvdSBuZWVkIGl0PycsIHsKICAgICAgICBldmVudF9jYXRlZ29yeTogJ1NlYXJjaCAtICgnICsgdGhpcy5sYW5ndWFnZS5uYW1lICsgJyknLAogICAgICAgIGV2ZW50X2xhYmVsOiB3ZWVrZGF5c1t0aGlzLmdldERheSh2YWwpXS5kYXkKICAgICAgfSkKICAgIH0sCiAgICBjaGFuZ2VMYW5ndWFnZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdGhpcy5sYW5ndWFnZSA9IGl0ZW0KICAgICAgdGhpcy4kcm9vdC51cGRhdGVMYW5nKGl0ZW0uaXNvKQogICAgfSwKICAgIGFzeW5jIGZldGNoRGF0YSgpIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godGhlbWUuZGF0YS5zcHJlYWRzaGVldFVybCkKICAgICAgY29uc3QgZW50cmllcyA9IGF3YWl0IHJlcy5qc29uKCkKCiAgICAgIC8vIGlmIChlbnRyaWVzICE9PSBudWxsKSB7CiAgICAgIC8vICAgZW50cmllcy5mb3JFYWNoKGMgPT4gewogICAgICAvLyAgICAgYwogICAgICAvLyAgIH0pOwogICAgICAvLyB9CgogICAgICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzLmZlZWQuZW50cnkKICAgIH0sCiAgICBwYXNzTG9jYXRpb246IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgdmFsLmN1cnJlbnRCdXNpbmVzcyA9IHRoaXMuZmlsdGVyZWRNYXJrZXJzW3ZhbC5sb2NWYWx1ZV0KICAgICAgdGhpcy5sb2NhdGlvbkRhdGEgPSB2YWwKICAgICAgdGhpcy5zaG93TGlzdCA9IGZhbHNlCiAgICAgIHRoaXMuaXNGaWx0ZXJPcGVuID0gdHJ1ZQogICAgICB2YXIgcHJvTmFtZSA9IHRoaXMuZmlsdGVyZWRNYXJrZXJzW3ZhbC5sb2NWYWx1ZV0ubWFya2VyLmdzeCRwcm92aWRlcmFkZGxvYy4kdAogICAgICAgID8gJywgJyArIHRoaXMuZmlsdGVyZWRNYXJrZXJzW3ZhbC5sb2NWYWx1ZV0ubWFya2VyLmdzeCRwcm92aWRlcmFkZGxvYy4kdAogICAgICAgIDogJycKCiAgICAgIHdpbmRvdy5ndGFnKCdldmVudCcsIHZhbC5pc1NldEJ5TWFwID8gJ01hcmtlciBjbGlja2VkJyA6ICdMaXN0IGl0ZW0gY2xpY2tlZCcsIHsKICAgICAgICBldmVudF9jYXRlZ29yeTogJ1ZpZXcgZGV0YWlscyAtICgnICsgdGhpcy5sYW5ndWFnZS5uYW1lICsgJyknLAogICAgICAgIGV2ZW50X2xhYmVsOiB0aGlzLmZpbHRlcmVkTWFya2Vyc1t2YWwubG9jVmFsdWVdLm1hcmtlci5nc3gkcHJvdmlkZXJuYW1lLiR0ICsgcHJvTmFtZQogICAgICB9KQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbHRlcmVkTWFya2VycygpIHsKICAgICAgaWYgKHRoaXMuZW50cmllcyA9PSBudWxsKSByZXR1cm4gbnVsbAoKICAgICAgdmFyIG1hcmtlcnMKCiAgICAgIGlmICh0aGlzLm5lZWQgPT0gJ2ZhbWlseScpIHsKICAgICAgICBtYXJrZXJzID0gdGhpcy5lbnRyaWVzLmZpbHRlcigoYykgPT4gYy5nc3gkZmFtaWx5bWVhbC4kdCA9PSAxICYmIGMuZ3N4JHN0YXR1cy4kdCA9PSAnMScpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWFya2VycyA9IHRoaXMuZW50cmllcy5maWx0ZXIoKGMpID0+IGMuZ3N4JHJlc291cmNlLiR0ID09PSB0aGlzLm5lZWQgJiYgYy5nc3gkc3RhdHVzLiR0ID09ICcxJykKICAgICAgfQoKICAgICAgLy8gRmlsdGVyIG91dCB0aGUgYm9vbGVhbiBpdGVtcwogICAgICB0aGlzLmhpZ2hsaWdodEZpbHRlcnMuZm9yRWFjaCgoZWxlbWVudCkgPT4gewogICAgICAgIGlmIChib29sZWFuRmlsdGVycy5pbmNsdWRlcyhlbGVtZW50KSkgewogICAgICAgICAgbWFya2VycyA9IG1hcmtlcnMuZmlsdGVyKChjKSA9PiBjWydnc3gkJyArIGVsZW1lbnRdLiR0ID09ICcxJykKICAgICAgICB9CiAgICAgIH0pCgogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpLmdldERheSgpCiAgICAgIHZhciBzZWxlY3RlZERheSA9IHRvZGF5CiAgICAgIGlmICghdGhpcy5pc0FueURheVNlbGVjdGVkKHRoaXMuZGF5KSkgewogICAgICAgIHNlbGVjdGVkRGF5ID0gdGhpcy5kYXkKICAgICAgfQoKICAgICAgY29uc3QgZGF5RmlsdGVyID0gZGF5RmlsdGVyc1t0aGlzLmdldERheShzZWxlY3RlZERheSldCiAgICAgIHZhciBvcGVuID0gbWFya2Vycy5maWx0ZXIoKGMpID0+IGNbZGF5RmlsdGVyXS4kdCAhPT0gJzAnKQogICAgICB2YXIgY2xvc2VkID0gbWFya2Vycy5maWx0ZXIoKGMpID0+IGNbZGF5RmlsdGVyXS4kdCA9PSAnMCcpCgogICAgICB2YXIgcmV0TGlzdCA9IGV4dGVuZCgKICAgICAgICBvcGVuLm1hcCgobWFya2VyKSA9PiAoewogICAgICAgICAgbWFya2VyLAogICAgICAgICAgb2M6IHRydWUsCiAgICAgICAgICBkaXN0YW5jZTogaGF2ZXJzaW5lRGlzdGFuY2UoW3RoaXMuY2VudHJvaWQubGF0LCB0aGlzLmNlbnRyb2lkLmxuZ10sIFttYXJrZXIuZ3N4JGxhdC4kdCwgbWFya2VyLmdzeCRsb24uJHRdLCB0cnVlKQogICAgICAgIH0pKSwKICAgICAgICBjbG9zZWQubWFwKChtYXJrZXIpID0+ICh7CiAgICAgICAgICBtYXJrZXIsCiAgICAgICAgICBvYzogZmFsc2UsCiAgICAgICAgICBkaXN0YW5jZTogaGF2ZXJzaW5lRGlzdGFuY2UoW3RoaXMuY2VudHJvaWQubGF0LCB0aGlzLmNlbnRyb2lkLmxuZ10sIFttYXJrZXIuZ3N4JGxhdC4kdCwgbWFya2VyLmdzeCRsb24uJHRdLCB0cnVlKQogICAgICAgIH0pKQogICAgICApLnNvcnQoc29ydEJ5RGlzdGFuY2UpCgogICAgICByZXR1cm4gcmV0TGlzdAogICAgfSwKICAgIGhpZ2hsaWdodEZpbHRlcmVkTWFya2VycygpIHsKICAgICAgdmFyIGNvbnRhaW5lZCA9IFtdIC8vbWFrZXJzIGluIG1hcCBib3VuZGluZ2JveAogICAgICB0aGlzLmZpbHRlcmVkTWFya2Vycy5mb3JFYWNoKChtKSA9PiB7CiAgICAgICAgaWYgKHRoaXMuYm91bmRzLmNvbnRhaW5zKGxhdExuZyhtLm1hcmtlci5nc3gkbGF0LiR0LCBtLm1hcmtlci5nc3gkbG9uLiR0KSkpIGNvbnRhaW5lZC5wdXNoKG0pCiAgICAgIH0pCgogICAgICBpZiAoIXRoaXMuaXNBbnlEYXlTZWxlY3RlZCh0aGlzLmRheSkpIHsKICAgICAgICByZXR1cm4gY29udGFpbmVkCiAgICAgIH0KCiAgICAgIHJldHVybiBjb250YWluZWQubWFwKChtKSA9PiB7CiAgICAgICAgbGV0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIG0pCiAgICAgICAgb2JqLm9jID0gdHJ1ZQogICAgICAgIHJldHVybiBvYmoKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div class=\"home\">\n    <app-header :language=\"language.name\" @language-selected=\"changeLanguage\">\n      <theme-header></theme-header>\n    </app-header>\n    <about-us-modal />\n    <div class=\"d-flex\" id=\"wrapper\" :class=\"{ toggled: isFilterOpen }\" v-if=\"!!entries\">\n      <search-filter\n        :isFilterOpen=\"isFilterOpen\"\n        :need=\"need\"\n        :day=\"day\"\n        :filteredMarkers=\"filteredMarkers\"\n        :highlightFilteredMarkers=\"highlightFilteredMarkers\"\n        :location=\"locationData\"\n        :show-list=\"showList\"\n        @location-selected=\"passLocation\"\n        @toggle=\"isFilterOpen = !isFilterOpen\"\n        @need-selected=\"needSelected\"\n        @day-selected=\"daySelected\"\n      />\n\n      <div id=\"page-content-wrapper\">\n        <highlights\n          :need=\"need\"\n          :class=\"{ toggled: isFilterOpen }\"\n          :filteredMarkers=\"highlightFilteredMarkers\"\n          :highlightFilters=\"highlightFilters\"\n          @box-selected=\"boxSelected\"\n        />\n\n        <resource-map\n          :filteredMarkers=\"filteredMarkers\"\n          :class=\"{ noselection: need == 'none' }\"\n          :location=\"locationData\"\n          :attribution=\"attribution\"\n          @location-selected=\"passLocation\"\n          @bounds=\"boundsUpdated\"\n          @center=\"centerUpdated\"\n          :mapUrl=\"mapUrl\"\n          :centroid=\"centroid\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppHeader from './components/Header.vue'\nimport SearchFilter from './components/SearchFilter.vue'\nimport Highlights from './components/Highlights.vue'\nimport ResourceMap from './components/ResourceMap.vue'\nimport AboutUsModal from './components/AboutUs.vue'\nimport { latLng } from 'leaflet'\nimport { haversineDistance, sortByDistance } from './utilities'\n\nimport { weekdays, dayFilters, booleanFilters, dayAny } from './constants'\n\nimport { theme } from 'theme.config'\nimport ThemeHeader from 'theme.header'\n\nfunction extend(obj, src) {\n  for (var key in src) {\n    obj.push(src[key])\n  }\n  return obj\n}\n\nfunction addOrRemove(array, item) {\n  const exists = array.includes(item)\n\n  if (exists) {\n    return array.filter((c) => {\n      return c !== item\n    })\n  } else {\n    const result = array\n    result.push(item)\n    return result\n  }\n}\n\nexport default {\n  name: 'app',\n  props: {\n    msg: String\n  },\n  watch: {\n    currentPage: 'fetchData'\n  },\n  created() {\n    this.fetchData()\n  },\n  components: {\n    AboutUsModal,\n    AppHeader,\n    Highlights,\n    ResourceMap,\n    SearchFilter,\n    ThemeHeader\n  },\n  data() {\n    const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n    return {\n      entries: null,\n      need: 'none',\n      day: dayAny,\n      isFilterOpen: true,\n      language: { name: 'English', iso: 'en' },\n      locationData: { locValue: null, locId: null, currentBusiness: null, isSetByMap: false },\n      showList: false,\n      highlightFilters: [],\n      bounds: null,\n      centroid: { lat: theme.settings.initialMapCenter.lat, lng: theme.settings.initialMapCenter.lng },\n      darkModeMediaQuery: darkModeMediaQuery,\n      darkMode: darkModeMediaQuery.matches,\n      mapUrl: '',\n      attribution: null\n    }\n  },\n  mounted() {\n    this.setDarkMode(this.darkMode)\n    this.darkModeMediaQuery.addListener((e) => {\n      this.darkMode = e.matches\n      this.setDarkMode(this.darkMode)\n    })\n  },\n  methods: {\n    setDarkMode(darkMode) {\n      this.mapUrl = darkMode ? theme.maps.dark.url : theme.maps.normal.url\n      this.attribution = darkMode ? theme.maps.dark.attribution : theme.maps.normal.attribution\n    },\n    centerUpdated(center) {\n      this.centroid = { lat: center.lat, lng: center.lng }\n    },\n    boundsUpdated: function (bounds) {\n      this.bounds = bounds\n    },\n    getDay: function (day) {\n      if (day == 0) {\n        return 6\n      } else {\n        return day - 1\n      }\n    },\n    boxSelected: function (content) {\n      this.highlightFilters = addOrRemove(this.highlightFilters, content.need)\n    },\n    isAnyDaySelected(day) {\n      return day >= dayAny\n    },\n    needSelected: function (val) {\n      this.need = val\n      this.highlightFilters = []\n      window.gtag('event', 'What do you need?', { event_category: 'Search - (' + this.language.name + ')', event_label: val })\n    },\n    daySelected: function (val) {\n      this.day = val\n      this.highlightFilters = []\n      window.gtag('event', 'When do you need it?', {\n        event_category: 'Search - (' + this.language.name + ')',\n        event_label: weekdays[this.getDay(val)].day\n      })\n    },\n    changeLanguage: function (item) {\n      this.language = item\n      this.$root.updateLang(item.iso)\n    },\n    async fetchData() {\n      const res = await fetch(theme.data.spreadsheetUrl)\n      const entries = await res.json()\n\n      // if (entries !== null) {\n      //   entries.forEach(c => {\n      //     c\n      //   });\n      // }\n\n      this.entries = entries.feed.entry\n    },\n    passLocation: function (val) {\n      val.currentBusiness = this.filteredMarkers[val.locValue]\n      this.locationData = val\n      this.showList = false\n      this.isFilterOpen = true\n      var proName = this.filteredMarkers[val.locValue].marker.gsx$provideraddloc.$t\n        ? ', ' + this.filteredMarkers[val.locValue].marker.gsx$provideraddloc.$t\n        : ''\n\n      window.gtag('event', val.isSetByMap ? 'Marker clicked' : 'List item clicked', {\n        event_category: 'View details - (' + this.language.name + ')',\n        event_label: this.filteredMarkers[val.locValue].marker.gsx$providername.$t + proName\n      })\n    }\n  },\n  computed: {\n    filteredMarkers() {\n      if (this.entries == null) return null\n\n      var markers\n\n      if (this.need == 'family') {\n        markers = this.entries.filter((c) => c.gsx$familymeal.$t == 1 && c.gsx$status.$t == '1')\n      } else {\n        markers = this.entries.filter((c) => c.gsx$resource.$t === this.need && c.gsx$status.$t == '1')\n      }\n\n      // Filter out the boolean items\n      this.highlightFilters.forEach((element) => {\n        if (booleanFilters.includes(element)) {\n          markers = markers.filter((c) => c['gsx$' + element].$t == '1')\n        }\n      })\n\n      var today = new Date().getDay()\n      var selectedDay = today\n      if (!this.isAnyDaySelected(this.day)) {\n        selectedDay = this.day\n      }\n\n      const dayFilter = dayFilters[this.getDay(selectedDay)]\n      var open = markers.filter((c) => c[dayFilter].$t !== '0')\n      var closed = markers.filter((c) => c[dayFilter].$t == '0')\n\n      var retList = extend(\n        open.map((marker) => ({\n          marker,\n          oc: true,\n          distance: haversineDistance([this.centroid.lat, this.centroid.lng], [marker.gsx$lat.$t, marker.gsx$lon.$t], true)\n        })),\n        closed.map((marker) => ({\n          marker,\n          oc: false,\n          distance: haversineDistance([this.centroid.lat, this.centroid.lng], [marker.gsx$lat.$t, marker.gsx$lon.$t], true)\n        }))\n      ).sort(sortByDistance)\n\n      return retList\n    },\n    highlightFilteredMarkers() {\n      var contained = [] //makers in map boundingbox\n      this.filteredMarkers.forEach((m) => {\n        if (this.bounds.contains(latLng(m.marker.gsx$lat.$t, m.marker.gsx$lon.$t))) contained.push(m)\n      })\n\n      if (!this.isAnyDaySelected(this.day)) {\n        return contained\n      }\n\n      return contained.map((m) => {\n        let obj = Object.assign({}, m)\n        obj.oc = true\n        return obj\n      })\n    }\n  }\n}\n</script>\n\n<style></style>\n"]}]}